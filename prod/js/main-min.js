"use strict";$(document).ready(function(){function e(){r.length?(i.html("Lösenord är ok"),i.addClass("u-green"),i.removeClass("u-red")):(i.html("Lösenord för kort"),i.removeClass("u-green"),i.addClass("u-red")),r.password===r.repeatPassword&&r.length?(t.html("Lösenorden överenstämmer"),t.addClass("u-green"),t.removeClass("u-red")):r.password===r.repeatPassword&&r.length===!1?(t.html("Lösenorden överenstämmer men är för korta"),t.removeClass("u-green"),t.addClass("u-red")):(t.html("Lösenorden överenstämmer inte"),t.removeClass("u-green"),t.addClass("u-red"))}function s(e){"reset"==e?($(".js-Login-password-reset-box").show(),$(".js-Login-password-sent-box, .js-Login-password-default-box").hide()):"sent"==e?($(".js-Login-password-reset-box, .js-Login-password-default-box").hide(),$(".js-Login-password-sent-box").show()):"default"==e&&($(".js-Login-password-sent-box, .js-Login-password-reset-box").hide(),$(".js-Login-password-default-box").show())}function o(){$(".js-Menu-container").toggleClass("Menu--open"),$(".js-Site-container").toggleClass("locked"),$(".js-Header-menu-container").toggleClass("Burger--open"),"Meny"==k.text()?k.text("Stäng"):k.text("Meny")}$(".js-MyPages-password-btn").click(function(){$(".js-Site-container").toggleClass("locked"),$(".js-MyPages-pswrd-overlay-container").fadeIn("fast")}),$(".js-MyPages-close-form, .js-MyPages-pswrd-clickarea").click(function(){$(".js-Site-container").toggleClass("locked"),$(".js-MyPages-pswrd-overlay-container").fadeOut("fast")});var n=$(".js-MyPages-new-pswrd"),a=$(".js-MyPages-repeat-pswrd"),i=$(".js-MyPages-new-pswrd-status"),t=$(".js-MyPages-new-pswrd-match"),r={length:!1,password:"",repeatPassword:""};n.on("input",function(){r.password=$(this).val(),r.repeatPassword=a.val(),r.password.length>=6?r.length=!0:r.length=!1,e()}),a.on("input",function(){r.password=n.val(),r.repeatPassword=$(this).val(),e()}),$(".js-Login-clickarea, .js-Login-close-form").click(function(){$(".js-Login-overlay-container").fadeOut("fast"),$(".js-Site-container").toggleClass("locked")}),$(".js-Login-username-toggle").click(function(){$(".js-Login-username-help-box").slideToggle()}),$(".js-Login-password-toggle, .js-Login-forgot-password").click(function(){$(".js-Login-password-help-box").slideToggle()});var l,g={userName:!1,passWord:!1,emailReg:!1,numberReg:!1},c=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i),d=new RegExp("^[a-zA-Z]{2}[0-9]{6}$"),u="Du har inte angivet ett korrekt kundnummer eller e-postadress.",m="Felaktigt lösenord.";$(".js-Login-input-username").on("input",function(){c.test($(this).val())?(g.emailReg=!0,g.numberReg=!1):d.test($(this).val())?(g.numberReg=!0,g.emailReg=!1):(g.numberReg=!1,g.emailReg=!1),l=g.numberReg||g.emailReg,l?g.userName=!0:g.userName=!1}),$(".js-Login-input-username").focusout(function(){0==g.userName?($(".js-Login-username-toggle").removeClass("js-Login-question-icon").removeClass("js-Login-check-icon").addClass("js-Login-error-icon"),$(this).addClass("js-Login-input-error"),$(".js-Login-username-message").show().html(u)):($(".js-Login-username-toggle").addClass("js-Login-question-icon").removeClass("js-Login-error-icon"),$(this).removeClass("js-Login-input-error"),$(".js-Login-username-message").hide().html("")),g.emailReg?(s("reset"),$(".js-Login-reset-email").html($(".js-Login-input-username").val())):s("default")}),$(".js-Login-reset-password-btn").click(function(e){s("sent")}),$(".js-Login-input-password").on("input",function(){var e=$(this).val();"kombi"==e||"lotter"==e||"spel"==e?(g.passWord=!0,window.location.href="localhost:3000/tickets.html"):g.passWord=!1,1!=g.passWord&&$(".js-Login-password-message").hide(),$(this).hasClass("js-Login-input-error")&&($(this).removeClass("js-Login-input-error"),$(".js-Login-password-toggle").removeClass("js-Login-error-icon").addClass("js-Login-question-icon"))}),$(".js-Login-form-submit-btn").click(function(e){e.preventDefault(e),l&&g.passWord?window.location.replace("tickets.html"):1==l&&1!=g.passWord?($(".js-Login-password-toggle").removeClass("js-Login-question-icon").addClass("js-Login-error-icon"),$(".js-Login-header").addClass("Login-header--error").html("Inloggningen misslyckades"),$(".js-Login-input-password").addClass("js-Login-input-error"),$(".js-Login-password-message").show().html(m)):($(".js-Login-header").addClass("Login-header--error").html("Inloggningen misslyckades"),$(".js-Login-input-password").addClass("js-Login-input-error"),$(".js-Login-username-toggle").removeClass("js-Login-question-icon").removeClass("js-Login-check-icon").addClass("js-Login-error-icon"),$(".js-Login-password-toggle").removeClass("js-Login-question-icon").addClass("js-Login-error-icon"),$(".js-Login-username-message").show().html(u),$(".js-Login-password-message").show().html(m))});var j="Tjena tjabba!";$(".js-Promo-correct-ticket-btn").click(function(e){document.cookie.indexOf(j)==-1&&(e.preventDefault(),$(".js-Login-header").html("Logga in för att rätta din lott"),$(".js-Site-container").toggleClass("locked"),$(".js-Login-overlay-container").fadeIn("fast"))}),document.cookie.indexOf("_ga")==-1&&$(".js-Cookie-container").show(),$(".js-Cookies-approve-btn").click(function(){$(".js-Cookie-container").fadeOut("fast")}),$(".js-Choices-others-readmore").click(function(){$(this).next().slideToggle()}),$(".js-Menu-level-one-header").click(function(){$(this).next().slideToggle(),$(this).toggleClass("children-open")}),$(".js-Information-toggle-mail").click(function(){$(".js-Information-help-box--mail").slideToggle()}),$(".js-Information-toggle-phone").click(function(){$(".js-Information-help-box--phone").slideToggle()}),$(".js-Information-toggle-mobile").click(function(){$(".js-Information-help-box--mobile").slideToggle()});var p=$(".js-Information-input"),h=[],f=$(".js-Information-regret-btn"),L=$(".js-Information-save-container");p.each(function(){h.push($(this).val())}),p.on("input",function(){0==L.hasClass("js-Information-save-container--visible")&&L.addClass("js-Information-save-container--visible")}),f.click(function(){p.each(function(e){p[e].value=h[e]}),L.removeClass("js-Information-save-container--visible")}),console.log("tjena tjabba!");var w=document.body.scrollTop,v=$(".js-Header-container"),C=function(){if(document.body.scrollTop>0){var e=document.body.scrollTop;e>w&&document.body.scrollTop>130?v.addClass("is-hidden"):v.removeClass("is-hidden"),w=e}else v.removeClass("is-hidden")};$(window).on("scroll",_.throttle(C,100)),$(".js-Header-correct-btn").click(function(){$(".js-Login-header").html("Logga in för att rätta din lott"),$(".js-Site-container").toggleClass("locked"),$(".js-Login-overlay-container").fadeIn("fast"),$(".js-Menu-container").hasClass("Menu--open")&&o()}),$(".js-Header-profile, .js-Open-login").click(function(){$(".js-Login-header").html("Logga in på Min Sida"),$(".js-Site-container").toggleClass("locked"),$(".js-Login-overlay-container").fadeIn("fast"),$(".js-Menu-container").hasClass("Menu--open")&&o()}),$(".js-Header-menu-container").click(function(){o()}),$(".js-Menu-overlay").click(function(){o()});var k=$(".js-Header-title--menu");$(function(){$('a[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html, body").animate({scrollTop:e.offset().top},500),!1}})}),$(".js-Prices-readmore").click(function(){$(this).next().slideToggle()}),$(".js-Campaign-hero-products-img").click(function(){$(".js-Campaign-overlay-container").fadeIn("fast"),$(".js-Site-container").toggleClass("locked")}),$(".js-Campaign-clickarea, .js-Campaign-close-form").click(function(){$(".js-Campaign-overlay-container").fadeOut("fast"),$(".js-Site-container").toggleClass("locked")})});