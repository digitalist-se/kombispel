"use strict";$(document).ready(function(){function e(){l.length?(t.html("Lösenord är ok"),t.addClass("u-green"),t.removeClass("u-red")):(t.html("Lösenord för kort"),t.removeClass("u-green"),t.addClass("u-red")),l.password===l.repeatPassword&&l.length?(r.html("Lösenorden överenstämmer"),r.addClass("u-green"),r.removeClass("u-red")):l.password===l.repeatPassword&&l.length===!1?(r.html("Lösenorden överenstämmer men är för korta"),r.removeClass("u-green"),r.addClass("u-red")):(r.html("Lösenorden överenstämmer inte"),r.removeClass("u-green"),r.addClass("u-red"))}function s(e){"reset"==e?($(".js-Login-password-reset-box").show(),$(".js-Login-password-sent-box, .js-Login-password-default-box").hide()):"sent"==e?($(".js-Login-password-reset-box, .js-Login-password-default-box").hide(),$(".js-Login-password-sent-box").show()):"default"==e&&($(".js-Login-password-sent-box, .js-Login-password-reset-box").hide(),$(".js-Login-password-default-box").show())}function n(){0==v.hasClass("js-Information-save-container--visible")&&v.addClass("js-Information-save-container--visible")}function o(){$(".js-Menu-container").toggleClass("Menu--open"),$(".js-Site-container").toggleClass("locked"),$(".js-Header-menu-container").toggleClass("Burger--open"),"Meny"==x.text()?x.text("Stäng"):x.text("Meny")}$(".js-MyPages-password-btn").click(function(){$(".js-Site-container").toggleClass("locked"),$(".js-MyPages-pswrd-overlay-container").fadeIn("fast")}),$(".js-MyPages-close-form, .js-MyPages-pswrd-clickarea").click(function(){$(".js-Site-container").toggleClass("locked"),$(".js-MyPages-pswrd-overlay-container").fadeOut("fast")});var a=$(".js-MyPages-new-pswrd"),i=$(".js-MyPages-repeat-pswrd"),t=$(".js-MyPages-new-pswrd-status"),r=$(".js-MyPages-new-pswrd-match"),l={length:!1,password:"",repeatPassword:""};a.on("input",function(){l.password=$(this).val(),l.repeatPassword=i.val(),l.password.length>=6?l.length=!0:l.length=!1,e()}),i.on("input",function(){l.password=a.val(),l.repeatPassword=$(this).val(),e()}),$(".js-Login-clickarea, .js-Login-close-form").click(function(){$(".js-Login-overlay-container").fadeOut("fast"),$(".js-Site-container").toggleClass("locked")}),$(".js-Login-username-toggle").click(function(){$(".js-Login-username-help-box").slideToggle()}),$(".js-Login-password-toggle, .js-Login-forgot-password").click(function(){$(".js-Login-password-help-box").slideToggle()});var g,c={userName:!1,passWord:!1,emailReg:!1,numberReg:!1},d=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i),u=new RegExp("^[a-zA-Z]{2}[0-9]{6}$"),m="Du har inte angivet ett korrekt kundnummer eller e-postadress.",j="Felaktigt lösenord.";$(".js-Login-input-username").on("input",function(){d.test($(this).val())?(c.emailReg=!0,c.numberReg=!1):u.test($(this).val())?(c.numberReg=!0,c.emailReg=!1):(c.numberReg=!1,c.emailReg=!1),g=c.numberReg||c.emailReg,g?c.userName=!0:c.userName=!1}),$(".js-Login-input-username").focusout(function(){0==c.userName?($(".js-Login-username-toggle").removeClass("js-Login-question-icon").removeClass("js-Login-check-icon").addClass("js-Login-error-icon"),$(this).addClass("js-Login-input-error"),$(".js-Login-username-message").show().html(m)):($(".js-Login-username-toggle").addClass("js-Login-question-icon").removeClass("js-Login-error-icon"),$(this).removeClass("js-Login-input-error"),$(".js-Login-username-message").hide().html("")),c.emailReg?(s("reset"),$(".js-Login-reset-email").html($(".js-Login-input-username").val())):s("default")}),$(".js-Login-reset-password-btn").click(function(e){s("sent")}),$(".js-Login-input-password").on("input",function(){var e=$(this).val();"kombi"==e||"lotter"==e||"spel"==e?(c.passWord=!0,window.location.href="localhost:3000/tickets.html"):c.passWord=!1,1!=c.passWord&&$(".js-Login-password-message").hide(),$(this).hasClass("js-Login-input-error")&&($(this).removeClass("js-Login-input-error"),$(".js-Login-password-toggle").removeClass("js-Login-error-icon").addClass("js-Login-question-icon"))}),$(".js-Login-form-submit-btn").click(function(e){e.preventDefault(e),g&&c.passWord?window.location.replace("tickets.html"):1==g&&1!=c.passWord?($(".js-Login-password-toggle").removeClass("js-Login-question-icon").addClass("js-Login-error-icon"),$(".js-Login-header").addClass("Login-header--error").html("Inloggningen misslyckades"),$(".js-Login-input-password").addClass("js-Login-input-error"),$(".js-Login-password-message").show().html(j)):($(".js-Login-header").addClass("Login-header--error").html("Inloggningen misslyckades"),$(".js-Login-input-password").addClass("js-Login-input-error"),$(".js-Login-username-toggle").removeClass("js-Login-question-icon").removeClass("js-Login-check-icon").addClass("js-Login-error-icon"),$(".js-Login-password-toggle").removeClass("js-Login-question-icon").addClass("js-Login-error-icon"),$(".js-Login-username-message").show().html(m),$(".js-Login-password-message").show().html(j))});var f="Tjena tjabba!";$(".js-Promo-correct-ticket-btn").click(function(e){document.cookie.indexOf(f)==-1&&(e.preventDefault(),$(".js-Login-header").html("Logga in för att rätta din lott"),$(".js-Site-container").toggleClass("locked"),$(".js-Login-overlay-container").fadeIn("fast"))}),document.cookie.indexOf("_ga")==-1&&$(".js-Cookie-container").show(),$(".js-Cookies-approve-btn").click(function(){$(".js-Cookie-container").fadeOut("fast")}),$(".js-Choices-others-readmore").click(function(){$(this).next().slideToggle()}),$(".js-Menu-level-one-header").click(function(){$(this).next().slideToggle(),$(this).toggleClass("children-open")}),$(".js-Information-toggle-mail").click(function(){$(".js-Information-help-box--mail").slideToggle()}),$(".js-Information-toggle-phone").click(function(){$(".js-Information-help-box--phone").slideToggle()}),$(".js-Information-toggle-mobile").click(function(){$(".js-Information-help-box--mobile").slideToggle()});var p=$(".js-Information-input"),h=$(".js-Information-select"),w=[],L=[],C=$(".js-Information-regret-btn"),v=$(".js-Information-save-container");p.each(function(){w.push($(this).val())}),h.each(function(){L.push($(this).val())}),p.on("input",function(){n()}),h.on("change",function(){n()}),C.click(function(){p.each(function(e){p[e].value=w[e]}),h.each(function(e){h[e].value=L[e]}),v.removeClass("js-Information-save-container--visible")});var k=window.pageYOffset,b=$(".js-Header-container"),y=function(){if(window.pageYOffset>0){var e=window.pageYOffset;e>k&&window.pageYOffset>130?b.addClass("is-hidden"):b.removeClass("is-hidden"),k=e}else b.removeClass("is-hidden")};$(window).on("scroll",_.throttle(y,100)),$(".js-Header-correct-btn").click(function(){$(".js-Login-header").html("Logga in för att rätta din lott"),$(".js-Site-container").toggleClass("locked"),$(".js-Login-overlay-container").fadeIn("fast"),$(".js-Menu-container").hasClass("Menu--open")&&o()}),$(".js-Header-profile, .js-Open-login, .js-Campaign-form-login").click(function(){$(".js-Login-header").html("Logga in på Min Sida"),$(".js-Site-container").toggleClass("locked"),$(".js-Login-overlay-container").fadeIn("fast"),$(".js-Menu-container").hasClass("Menu--open")&&o()}),$(".js-Header-menu-container").click(function(){o()}),$(".js-Menu-overlay").click(function(){o()});var x=$(".js-Header-title--menu");$(function(){$('a[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html, body").animate({scrollTop:e.offset().top-165},500),!1}})}),$(".js-Prices-readmore").click(function(){$(this).next().slideToggle()}),$(".js-Campaign-open-terms").click(function(){$(".js-Campaign-terms-container").fadeIn("fast"),$(".js-Site-container").toggleClass("locked")}),$(".js-Campaign-hero-products-img").click(function(){$(".js-Campaign-overlay-container").fadeIn("fast"),$(".js-Site-container").toggleClass("locked")}),$(".js-Campaign-clickarea, .js-Campaign-close-form").click(function(){$(".js-Campaign-overlay-container").fadeOut("fast"),$(".js-Campaign-terms-container").fadeOut("fast"),$(".js-Site-container").toggleClass("locked")}),$.contains(document,$("#SubmenuAnchor")[0])&&$(window).width()<768&&setTimeout(function(){$("html, body").animate({scrollTop:$("#SubmenuAnchor").offset().top},500)},300)});