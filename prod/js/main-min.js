"use strict";$(document).ready(function(){function s(){r.length?(i.html("Lösenord är ok"),i.addClass("u-green"),i.removeClass("u-red")):(i.html("Lösenord för kort"),i.removeClass("u-green"),i.addClass("u-red")),r.password===r.repeatPassword&&r.length?(t.html("Lösenorden överenstämmer"),t.addClass("u-green"),t.removeClass("u-red")):r.password===r.repeatPassword&&r.length===!1?(t.html("Lösenorden överenstämmer men är för korta"),t.removeClass("u-green"),t.addClass("u-red")):(t.html("Lösenorden överenstämmer inte"),t.removeClass("u-green"),t.addClass("u-red"))}function e(s){"reset"==s?($(".js-Login-password-reset-box").show(),$(".js-Login-password-sent-box, .js-Login-password-default-box").hide()):"sent"==s?($(".js-Login-password-reset-box, .js-Login-password-default-box").hide(),$(".js-Login-password-sent-box").show()):"default"==s&&($(".js-Login-password-sent-box, .js-Login-password-reset-box").hide(),$(".js-Login-password-default-box").show())}function o(){$(".js-Menu-container").toggleClass("Menu--open"),$(".js-Site-container").toggleClass("locked"),$(".js-Header-menu-container").toggleClass("Burger--open"),"meny"==L.text()?L.text("stäng"):L.text("meny")}$(".js-MyPages-password-btn").click(function(){$(".js-Site-container").toggleClass("locked"),$(".js-MyPages-pswrd-overlay-container").fadeIn("fast")}),$(".js-MyPages-close-form, .js-MyPages-pswrd-clickarea").click(function(){$(".js-Site-container").toggleClass("locked"),$(".js-MyPages-pswrd-overlay-container").fadeOut("fast")});var n=$(".js-MyPages-new-pswrd"),a=$(".js-MyPages-repeat-pswrd"),i=$(".js-MyPages-new-pswrd-status"),t=$(".js-MyPages-new-pswrd-match"),r={length:!1,password:"",repeatPassword:""};n.on("input",function(){r.password=$(this).val(),r.repeatPassword=a.val(),r.password.length>=6?r.length=!0:r.length=!1,s()}),a.on("input",function(){r.password=n.val(),r.repeatPassword=$(this).val(),s()}),$(".js-Login-clickarea, .js-Login-close-form").click(function(){$(".js-Login-overlay-container").fadeOut("fast"),$(".js-Site-container").toggleClass("locked")}),$(".js-Login-username-toggle").click(function(){$(".js-Login-username-help-box").slideToggle()}),$(".js-Login-password-toggle, .js-Login-forgot-password").click(function(){$(".js-Login-password-help-box").slideToggle()});var l,g={userName:!1,passWord:!1,emailReg:!1,numberReg:!1},d=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i),c=new RegExp("^[a-zA-Z]{2}[0-9]{6}$"),u="Du har inte angivet ett korrekt kundnummer eller e-postadress.",m="Felaktigt lösenord.";$(".js-Login-input-username").on("input",function(){d.test($(this).val())?(g.emailReg=!0,g.numberReg=!1):c.test($(this).val())?(g.numberReg=!0,g.emailReg=!1):(g.numberReg=!1,g.emailReg=!1),l=g.numberReg||g.emailReg,l?g.userName=!0:g.userName=!1}),$(".js-Login-input-username").focusout(function(){0==g.userName?($(".js-Login-username-toggle").removeClass("js-Login-question-icon").removeClass("js-Login-check-icon").addClass("js-Login-error-icon"),$(this).addClass("js-Login-input-error"),$(".js-Login-username-message").show().html(u)):($(".js-Login-username-toggle").addClass("js-Login-question-icon").removeClass("js-Login-error-icon"),$(this).removeClass("js-Login-input-error"),$(".js-Login-username-message").hide().html("")),g.emailReg?(e("reset"),$(".js-Login-reset-email").html($(".js-Login-input-username").val())):e("default")}),$(".js-Login-reset-password-btn").click(function(s){e("sent")}),$(".js-Login-input-password").on("input",function(){var s=$(this).val();"kombi"==s||"lotter"==s||"spel"==s?(g.passWord=!0,window.location.href="localhost:3000/tickets.html"):g.passWord=!1,1!=g.passWord&&$(".js-Login-password-message").hide(),$(this).hasClass("js-Login-input-error")&&($(this).removeClass("js-Login-input-error"),$(".js-Login-password-toggle").removeClass("js-Login-error-icon").addClass("js-Login-question-icon"))}),$(".js-Login-form-submit-btn").click(function(s){s.preventDefault(s),l&&g.passWord?window.location.replace("tickets.html"):1==l&&1!=g.passWord?($(".js-Login-password-toggle").removeClass("js-Login-question-icon").addClass("js-Login-error-icon"),$(".js-Login-header").addClass("Login-header--error").html("Inloggningen misslyckades"),$(".js-Login-input-password").addClass("js-Login-input-error"),$(".js-Login-password-message").show().html(m)):($(".js-Login-header").addClass("Login-header--error").html("Inloggningen misslyckades"),$(".js-Login-input-password").addClass("js-Login-input-error"),$(".js-Login-username-toggle").removeClass("js-Login-question-icon").removeClass("js-Login-check-icon").addClass("js-Login-error-icon"),$(".js-Login-password-toggle").removeClass("js-Login-question-icon").addClass("js-Login-error-icon"),$(".js-Login-username-message").show().html(u),$(".js-Login-password-message").show().html(m))}),document.cookie.indexOf("_ga")==-1&&$(".js-Cookie-container").show(),$(".js-Cookies-approve-btn").click(function(){$(".js-Cookie-container").fadeOut("fast")}),$(".js-Choices-others-readmore").click(function(){$(this).next().slideToggle()}),$(".js-Menu-level-one-header").click(function(){$(this).next().slideToggle(),$(this).toggleClass("children-open")}),$(".js-Information-toggle-mail").click(function(){$(".js-Information-help-box--mail").slideToggle()}),$(".js-Information-toggle-phone").click(function(){$(".js-Information-help-box--phone").slideToggle()});var j=$(".js-Information-input"),h=[],p=$(".js-Information-regret-btn"),f=$(".js-Information-save-container");j.each(function(){h.push($(this).val())}),j.on("input",function(){0==f.hasClass("js-Information-save-container--visible")&&f.addClass("js-Information-save-container--visible")}),p.click(function(){j.each(function(s){j[s].value=h[s]}),f.removeClass("js-Information-save-container--visible")}),$(".js-Header-correct-btn").click(function(){$(".js-Login-header").html("Logga in för att rätta din lott"),$(".js-Site-container").toggleClass("locked"),$(".js-Login-overlay-container").fadeIn("fast"),$(".js-Menu-container").hasClass("Menu--open")&&o()}),$(".js-Header-profile, .js-Open-login").click(function(){$(".js-Login-header").html("Logga in på Min Sida"),$(".js-Site-container").toggleClass("locked"),$(".js-Login-overlay-container").fadeIn("fast"),$(".js-Menu-container").hasClass("Menu--open")&&o()}),$(".js-Header-menu-container").click(function(){o()}),$(".js-Menu-overlay").click(function(){o()});var L=$(".js-Header-title--menu");$(function(){$('a[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var s=$(this.hash);if(s=s.length?s:$("[name="+this.hash.slice(1)+"]"),s.length)return $("html, body").animate({scrollTop:s.offset().top},500),!1}})})});